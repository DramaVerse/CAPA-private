# CCL 2025 古诗词理解与推理评测任务详细指南

## 一、任务概述

### 1.1 任务背景
这是一个测试AI模型对古诗词理解和推理能力的评测任务，包含三个子任务：
- 词语理解（解释古诗词中的关键词）
- 句子翻译（将古诗句转换为白话文）
- 情感分类（判断诗歌表达的情感）

### 1.2 数据规模
- 训练集：200条数据
- 验证集和测试集：共400条数据
- 数据类型：包含古诗、唐诗和宋词，形式有五言绝句、七言绝句、五言律诗和七言律诗

## 二、具体任务要求

### 2.1 输入数据格式
每条数据包含以下字段：
```json
{
    "title": "诗歌标题",
    "author": "作者",
    "content": "诗歌内容",
    "qa_words": ["需要解释的词语1", "词语2"...],
    "qa_sents": ["需要翻译的句子1", "句子2"...],
    "choose": {"A": "情感1", "B": "情感2"...}
}
```

### 2.2 输出要求
必须严格按照以下JSON格式输出：
```json
{
    "ans_qa_words": {
        "词语1": "释义1",
        "词语2": "释义2"
    },
    "ans_qa_sents": {
        "句子1": "白话翻译1",
        "句子2": "白话翻译2"
    },
    "choose_id": "A"
}
```

## 三、评测规则

### 3.1 评价指标
- 词语理解和句子翻译：使用BLEU值、中文BertScore和大语言模型评估
- 情感分类：使用准确率评估

### 3.2 提交规则
- 每个队伍可提交两次，取最高分
- 提交格式：ccl-队名-test.json
- 提交邮箱：23S151077@stu.hit.edu.cn

## 四、模型使用规则

### 4.1 允许的操作
- 使用开源模型
- 使用外部数据集
- 使用模型生成额外训练数据
- 对模型输出进行格式处理

### 4.2 禁止的操作
- 使用闭源模型
- 使用API服务（即使是开源模型的API）
- 在测试集上生成或增强数据

## 五、建议实施步骤

### 5.1 前期准备
1. 环境搭建：
   - 安装Python环境
   - 准备GPU资源（推荐）
   - 安装必要的库（transformers等）

2. 数据准备：
   - 整理提供的200条训练数据
   - 收集补充数据（如全唐诗数据集）
   - 构建数据预处理流程

### 5.2 模型选择
推荐方案：
1. 使用开源中文预训练模型，如：
   - Qwen系列
   - ChatGLM系列
   - BELLE系列
2. 根据实际效果选择合适的模型大小

### 5.3 具体实现步骤
1. 基础实现：
   ```python
   # 1. 加载模型
   from transformers import AutoModelForCausalLM, AutoTokenizer
   
   model_name = "你选择的模型"
   model = AutoModelForCausalLM.from_pretrained(model_name)
   tokenizer = AutoTokenizer.from_pretrained(model_name)
   
   # 2. 构建prompt模板
   prompt_template = """
   你是一个古诗词专家，请解析以下诗词：
   标题：{title}
   作者：{author}
   内容：{content}
   请提供：
   1. 以下词语的释义：{qa_words}
   2. 以下句子的白话翻译：{qa_sents}
   3. 选择最符合的情感：{choose}
   """
   
   # 3. 实现重试机制
   def get_response(data, max_retries=3):
       for _ in range(max_retries):
           try:
               response = generate_and_parse(data)
               if validate_response(response):
                   return response
           except Exception as e:
               print(f"重试原因: {e}")
       return generate_fallback_response(data)
   ```

2. 数据增强：
   - 使用其他开源模型生成相似数据
   - 利用已有古籍数据集构建相似样例
   - 进行数据清洗和质量控制

3. 结果优化：
   - 实现多次重试机制
   - 添加结果验证
   - 确保输出格式规范

### 5.4 提交准备
1. 结果验证：
   - 检查JSON格式
   - 确保没有空值
   - 验证所有必需字段

2. 格式整理：
   - 移除多余空格和换行
   - 统一中文标点
   - 规范化JSON结构

## 六、时间节点
- 3月15日：报名截止
- 4月1日：发布验证集
- 5月10日：发布测试集
- 5月28日：提交截止
- 5月31日：公布成绩
- 6月15日：提交最终论文
- 7月1日：论文审稿通知
- 7月25-28日：评测研讨会

## 七、注意事项
1. 提交格式必须严格遵守规范，不允许空值
2. 可以对模型输出进行后处理，但不能修改答案内容
3. 所有回答必须使用中文
4. 句子翻译顺序必须与输入保持一致
5. 建议保存所有实验记录，以便撰写最终论文

## 八、常见问题解答
Q1: 可以使用GPT-4等闭源模型吗？
A1: 不可以，必须使用开源模型。

Q2: 可以使用外部数据集吗？
A2: 可以，但要避免包含测试集数据。

Q3: 模型输出格式不对怎么办？
A3: 可以通过后处理脚本规范化格式，但不能修改答案内容。

## 九、联系方式
如有问题，可联系：
裴振武（哈尔滨工业大学深圳）
邮箱：23S151077@stu.hit.edu.cn